@{
    // This partial view will display the highlights such as day return, best stock, sharpe ratio, etc.
}

<!-- New Card for Year's Performance -->
<div class="card shadow-sm">
    <div class="card-body">
        <!-- Card Title with Badge -->
        <h4 class="card-title text-center">
            Year's Performance
            <span class="badge bg-primary ms-2">Live</span>
        </h4>

        <div id="Year-performance">
            <!-- Total Amount Year with Badge -->
            <p>
                <strong>Total Amount :</strong>
                $<span id="totalAmountYear" class="value">0.00</span>
                <span class="badge bg-success ms-2">Updated</span>
            </p>

            <!-- Change in Market Value Year with Badge -->
            <p>
                <strong>Change in Market Value :</strong>
                <span id="changeInMarketValueYear" class="value change">
                    $<span id="marketValueAmount">0.00</span>
                    <i id="marketValueIcon" class='bx'></i>
                </span>
                <span class="badge bg-warning ms-2">Change</span>
            </p>

            <!-- Percent Change Year with Badge -->
            <p>
                <strong>Percent Change :</strong>
                <span id="percentChangeYear" class="value change">
                    <span id="percentChangeAmount">0.00</span>%
                    <i id="percentChangeIcon" class='bx'></i>
                </span>
                <span class="badge bg-info ms-2">Percentage</span>
            </p>
        </div>
    </div>
</div>


<!-- Script to Update Icons and Colors Based on Values -->
<script>
    // Example data - replace these with your actual data sources
    const totalAmountYear = 0; // Example value
    const changeInMarketValueYear = 0; // Positive change
    const percentChangeYear = 0; // Negative change

    // Update Total Amount Year
    document.getElementById('totalAmountYear').textContent = totalAmountYear.toFixed(2);

    // Function to update change elements
    function updateChangeElement(amount, isPercent, amountElementId, iconElementId) {
        const amountElement = document.getElementById(amountElementId);
        const iconElement = document.getElementById(iconElementId);
        const parentElement = amountElement.parentElement;

        // Determine if the change is positive or negative
        const isPositive = amount >= 0;

        // Update the amount text
        amountElement.textContent = Math.abs(amount).toFixed(2);

        // Update the color based on positive or negative
        if (isPositive) {
            parentElement.classList.add('text-success');
            parentElement.classList.remove('text-danger');
            iconElement.classList.add('bx-up-arrow-alt', 'icon-positive');
            iconElement.classList.remove('bx-down-arrow-alt', 'icon-negative');
        } else {
            parentElement.classList.add('text-danger');
            parentElement.classList.remove('text-success');
            iconElement.classList.add('bx-down-arrow-alt', 'icon-negative');
            iconElement.classList.remove('bx-up-arrow-alt', 'icon-positive');
        }
    }

    // Update Change in Market Value Year
    updateChangeElement(changeInMarketValueYear, false, 'marketValueAmount', 'marketValueIcon');

    // Update Percent Change Year
    updateChangeElement(percentChangeYear, true, 'percentChangeAmount', 'percentChangeIcon');
</script>

<!-- Optional: Custom Styles -->
<style>
    .value {
        font-weight: bold;
    }

    .change {
        display: flex;
        align-items: center;
    }

        .change i {
            margin-left: 5px;
            font-size: 1.2em;
        }
    /* Additional styling for better UI */
    .card {
        border-radius: 10px;
    }

    .card-title {
        margin-bottom: 20px;
        font-size: 1.5em;
        color: #333;
    }
    /* Badge Customizations */
    .badge {
        font-size: 0.8em;
    }
</style>
